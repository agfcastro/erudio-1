{% extends 'PublicacaoBundle:Index:menu.html.twig' %}

{% block headerTitle %}Publicações SME > Categorias{% endblock %}

{% block page %}
    <div class="row">
        <div id="page" class="col-lg-10">             
             <h4>Adicionar categoria no grupo {{ grupo.nomeExibicao }}</h4>
             
             <div class="row" id="formErrors">
                {{ erros | raw }}
             </div>
             
             <div class="row">
                {{ form_start(form, { 'action': path('publicacao_categorias', { 'id': grupo.id })}) }}
                   <div style="display: none;" class="col-md-6">
                       <label for="{{form.nome.vars.id}}">Nome *</label>
                       {{ form_widget(form.nome) }}
                   </div>
                   <div class="col-md-10">
                       <label for="{{form.nomeExibicao.vars.id}}">Nome de Exibição *</label>
                       {{ form_widget(form.nomeExibicao) }}
                   </div>
                   <div style="display: none;" class="col-md-6">
                       <label for="{{form.grupo.vars.id}}">Grupo</label>
                       {{ form_widget(form.grupo) }}
                   </div>
                   <div style="display: none;" class="col-md-6">
                       <label for="{{form.categoria.vars.id}}">Categoria</label>
                       {{ form_widget(form.categoria) }}
                   </div>
                   <div style="margin-top: 20px;" class="col-md-2">
                       {{ form_row(form.Salvar) }}
                   </div>
                {{ form_end(form) }}
             </div>
             
             <hr />
             <h4>Lista de Categorias do grupo {{ grupo.nomeExibicao }} (clique no nome para ver as sub-categorias)</h4>
             
             <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Nome de Exibição</th>
                        <th>Nome</th>
                        <th class="text-center">Opções</th>
                    </tr>
                </thead>
                <tbody>
                    {% for categoria in categorias %}
                        <tr>
                            <td><a href="{{ path('publicacao_subcategorias', { 'id': categoria.id }) }}">{{ categoria.nomeExibicao }}</a></td>
                            <td>{{ categoria.nome }}</td>
                            <td class="text-center">
                                <a class="lnkEditar" href="{{path('publicacao_categorias_editar', { 'id': categoria.id })}}">
                                    <span title="Editar" class="glyphicon glyphicon-edit"></span>
                                </a>
                                    |
                                <a class="lnkExcluir" href="{{path('publicacao_categorias_excluir', { 'id': categoria.id })}}">
                                    <span title="Excluir" class="glyphicon glyphicon-remove"></span>
                                </a>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="4">Não há categorias cadastradas</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}