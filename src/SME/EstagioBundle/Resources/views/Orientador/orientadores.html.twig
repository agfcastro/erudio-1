{% extends app.request.isXmlHttpRequest ? '::templateAjax.html.twig' : '::template.html.twig' %}

{% block css %}
    {{parent()}}
{% endblock %}

{% block headerTitle %}Orientadores - Pedido de Usuário{% endblock %}

{% block body %}
    <div class="row vagas" style="margin: 1rem;">
        <div class="col-md-12">
            <table class="table table-striped table-hover tableDGP">
                <thead>
                    <tr>
                        <th>Nome</td>
                        <th>E-mail</td>
                        <th>Instituição</td>
                        <th>Curso</td>
                        <th>Opções</td>
                    </tr>
                </thead>
                <tbody>
                    {% for pedido in pedidos %}
                        <tr>
                            <td>{{ pedido.nome }}</td>
                            <td>{{ pedido.email }}</td>
                            <td>{{ instituicoes[pedido.instituicao] }}</td>
                            <td>{{ pedido.curso }}</td>
                            <td>
                                <a title="Deferir" href="{{ path('deferir_orientadores', { 'id': pedido.id }) }}"><span style="color: green; cursor: pointer;" class="glyphicon glyphicon-ok remove-questionario" aria-hidden="true"></span></a>
                                <a title="Indeferir" href="{{ path('indeferir_orientadores', { 'id': pedido.id }) }}"><span style="color: red; cursor: pointer;" class="glyphicon glyphicon-remove remove-questionario" aria-hidden="true"></span></a>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="5" class="text-center">Nenhum pedido de usuário cadastrado</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
                    
    <div class="row deferidos" style="margin: 1rem;">
        <div class="col-md-12">
            <h2>Orientadores Deferidos</h2>
            <table class="table table-striped table-hover tableDGP">
                <thead>
                    <tr>
                        <th>Nome</td>
                        <th>E-mail</td>
                        <th>Instituição</td>
                        <th>Curso</td>
                        <th>Opções</td>
                    </tr>
                </thead>
                <tbody>
                    {% for deferido in deferidos %}
                        <tr>
                            <td>{{ deferido.nome }}</td>
                            <td>{{ deferido.email }}</td>
                            <td>{{ instituicoes[deferido.instituicao] }}</td>
                            <td>{{ deferido.curso }}</td>
                            <td>
                                <a title="Desativar Usuário" href="{{ path('desativar_orientadores', { 'id': deferido.id }) }}"><span style="color: red; cursor: pointer;" class="glyphicon glyphicon-remove remove-questionario" aria-hidden="true"></span></a>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="5" class="text-center">Nenhum pedido de usuário deferido</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    {{parent()}}
    <script type="text/javascript">
        $(document).ready(function(){
        });
    </script>
{% endblock %}
